function moveImageMouse(){function e(){var e=Math.ceil(2*n/s),t=i>r?1.1/Math.sin(Math.PI/2-i*Math.PI/180):1.1/Math.sin(Math.PI/2-r*Math.PI/180),o=Math.ceil(2*n*t),a=Math.ceil(o/s),c=n-o/2,l=(e-a)/2;$(".cd-background-wrapper").css({height:e}),$(".cd-floating-background").addClass("is-absolute").css({left:c,top:l,width:o})}function t(e){var t=(-e.pageX+n)/n*i,o=(e.pageY-a)/a*r;t>i&&(t=i),-i>t&&(t=-i),o>r&&(o=r),-r>o&&(o=-r),$(".cd-floating-background").css({"-moz-transform":"rotateX("+o+"deg) rotateY("+t+"deg) translateZ(0)","-webkit-transform":"rotateX("+o+"deg) rotateY("+t+"deg) translateZ(0)","-ms-transform":"rotateX("+o+"deg) rotateY("+t+"deg) translateZ(0)","-o-transform":"rotateX("+o+"deg) rotateY("+t+"deg) translateZ(0)",transform:"rotateX("+o+"deg) rotateY("+t+"deg) translateZ(40px)"})}var o=window.getComputedStyle(document.querySelector(".cd-background-wrapper"),"::before").getPropertyValue("content").replace(/"/g,"").replace(/'/g,""),a=.5*$(window).height(),n=.5*$(window).width(),i=10,r=8,s;$(".cd-floating-background").find("img").eq(0).load(function(){s=$(this).width()/$(this).height(),"web"==o&&$("html").hasClass("preserve-3d")&&e()}).each(function(){this.complete&&$(this).load()}),$(".cd-background-wrapper").on("mousemove",function(e){"web"==o&&$("html").hasClass("preserve-3d")&&window.requestAnimationFrame(function(){t(e)})}),$(window).on("resize",function(){o=window.getComputedStyle(document.querySelector(".cd-background-wrapper"),"::before").getPropertyValue("content").replace(/"/g,"").replace(/'/g,""),"web"==o&&$("html").hasClass("preserve-3d")?window.requestAnimationFrame(function(){a=.5*$(window).height(),n=.5*$(window).width(),e()}):($(".cd-background-wrapper").attr("style",""),$(".cd-floating-background").attr("style","").removeClass("is-absolute"))})}function effectLoad(){var e=$("body").hasClass("no-transitions");e||$(".home .menu-main .link a, .archive .menu-main a, .logo, .button-intro").click(function(e){if("_blank"!==$(this).attr("target")&&isMobile()!==!0&&!e.ctrlKey){var t,o=$(this).attr("href");return $("#wrapper").transition({opacity:0},500,"ease",function(){$("#content").transition({opacity:0},700,"ease",function(){window.location=o})}),!1}}),window.onunload=function(){}}function generateIntro(){var e,t;e=generateAll(),t=generateRandomed(e),t=doNext(e,t)}function generateAll(){for(var e=[],t=$(".intro .entry-home"),o=1;o<=t.length;o++)e.push(o);return e}function generateRandomed(e){return randomed=fisherYates(e),randomed}function doNext(e,t){if(t.length<1)t=generateRandomed(e);else{var o=t.shift(),a="#intro"+o;$(a).transition({opacity:1})}return t}function fisherYates(e){var t=e.slice(0),o=t.length;if(0==o)return!1;for(;--o;){var a=Math.floor(Math.random()*(o+1)),n=t[o],i=t[a];t[o]=i,t[a]=n}return t}function isMobile(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|android|ipad|playbook|silk|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e}jQuery(function($){function e(){return h=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0}function t(){e(),n(),$(".project-image a").fluidbox({immediateOpen:!1,stackIndex:9999}).on("openstart",function(){o()}).on("closestart",function(){a()}),$("body").hasClass("home")&&i()}function o(){$("#wrapper").css("z-index","2"),$("#header").css("z-index","1")}function a(){$("#wrapper").css("z-index","1"),$("#header").css("z-index","999")}function n(){$(window).scroll(function(){var e=window.pageYOffset,t=$("#header");e>10?t.addClass("minimized"):10>e&&t.removeClass("minimized")})}function i(){var e,t=$(".menu-main"),o=t.outerHeight()+145,a=$(".menu-main > li.this > a"),n=a.map(function(){var e=$($(this).attr("href"));return e.length?e:void 0});$(window).scroll(function(){var t=$(this).scrollTop()+o,i=n.map(function(){return $(this).offset().top<t?this:void 0});i=i[i.length-1];var r=i&&i.length?i[0].id:"";e!==r&&(e=r,a.parent().removeClass("current-menu-item").end().filter("[href=#"+r+"]").parent().addClass("current-menu-item"))})}function r(){function e(e){b.animate({scrollTop:$(e).offset().top+5},1500,"easeInOutQuint")}var t=$(".menu-main > li.this > a"),o=$(".icon-arrow"),a=$(t).attr("href");t.click(function(t){t.preventDefault(),a=$(this).attr("href"),e(a)}),o.click(function(t){t.preventDefault(),dataslide=$(this).attr("href"),e(dataslide)})}function s(){var e=new Array("En Inusual Estudio tenemos experiencia en el diseño de sitios web corporativos e identidad de marca. Ahora trabajamos desde Puebla, México.","Queremos crear la identidad de tu marca y diseñar una experiencia única para tus clientes, pero primero identificar que necesitas comunicar.","Tu proyecto es único para nosotros, la solución también. Nuestro proceso: Identificar + planificar + diseñar + desarrollar."),t=e[Math.floor(Math.random()*e.length)];$(".quote").text(t)}function c(){var e=$(".menu-main > li.this > a"),t=$("html, body");$(e).each(function(){e=$(this).attr("href"),$(this).attr("href","/"+e)});var o=function(e){if(e){e.preventDefault();var o=$(this).attr("href")}else var o=location.hash;t.on("scroll mousedown wheel DOMMouseScroll mousewheel keyup touchmove",function(){t.stop()}),t.animate({scrollTop:$(o).offset().top},1e3,function(){location.hash=o,t.off("scroll mousedown wheel DOMMouseScroll mousewheel keyup touchmove")})};t.hide(),$("a[href^=#]").bind("click",o),location.hash?setTimeout(function(){$("html, body").scrollTop(0).show(),o()},0):t.show()}function l(){$("#services .col-1").append('<img class="icon i-map show-for-medium-up" src="'+my_data.template_directory_uri+'/images/assets/icon_map.svg" alt="" />'),$("#services .col-1").append('<img class="icon i-content" src="'+my_data.template_directory_uri+'/images/assets/icon_content.svg" alt="" />'),$("#services .col-4").append('<img class="icon i-interface" src="'+my_data.template_directory_uri+'/images/assets/icon_interface.svg" alt="" />'),$("#services .col-3").append('<img class="icon i-tablet" src="'+my_data.template_directory_uri+'/images/assets/icon_tablet.svg" alt="" />'),$("#services .col-3").append('<img class="icon i-code" src="'+my_data.template_directory_uri+'/images/assets/icon_code.svg" alt="" />')}function d(){function e(){var e=$(window).scrollTop();$(".i-map").css("top",-(190-.15*e)+"px"),$(".i-content").css("bottom",+(-260-e*-.2)+"px"),$(".i-interface").css("bottom",+(-250-e*-.18)+"px"),$(".i-tablet").css("top",-(190-.13*e)+"px"),$(".i-code").css("bottom",+(-280-e*-.22)+"px")}$(window).scroll(function(t){e()})}function m(){function e(e,t){if(null==e||0==e.length||0==t)return 0;for(low=0,high=e.length-1;low<=high;)mid=parseInt(low+high>>1),t<=e[mid]?high=mid-1:low=mid+1;return high}function t(){s=$(this).scrollTop();var t=Object.keys(n),o=e(t,s),a=n[t[o]];a&&$("body").css("background-color",a)}for(var o=$(window).innerHeight(),a=$(".module").siblings(),n={},i=0,r=0;r<a.length;r++)a[r].dataset.background?n[i]=a[r].dataset.background:n[i]=0,i+=a[r].clientHeight;t();var s=0;$(document).scroll(t)}function u(){return Math.round(Math.random())-.5}function p(){var e=["cover-1","cover-2"];e.sort(u),$(".cover").each(function(t,o){$(this).addClass(e[t])})}var h,f=1024,g=767,w=641,v=$(window),b=$("html,body");$(window).load(function(){t(),m(),effectLoad(),generateIntro(),p(),s(),$("body").hasClass("home")&&(h>=g&&(l(),d()),h>=f&&moveImageMouse()),$("body").hasClass("home")?r():c()}),$(window).resize(function(){t()})}),function e(){var e=document.createElement("p"),t=document.getElementsByTagName("html")[0],o=document.getElementsByTagName("body")[0],a={webkitTransformStyle:"-webkit-transform-style",MozTransformStyle:"-moz-transform-style",msTransformStyle:"-ms-transform-style",transformStyle:"transform-style"};o.insertBefore(e,null);for(var n in a)void 0!==e.style[n]&&(e.style[n]="preserve-3d");var i=window.getComputedStyle(e,null),r=i.getPropertyValue("-webkit-transform-style")||i.getPropertyValue("-moz-transform-style")||i.getPropertyValue("-ms-transform-style")||i.getPropertyValue("transform-style");"preserve-3d"!==r?t.className+=" no-preserve-3d":t.className+=" preserve-3d",document.body.removeChild(e)}();